CREATE TABLE User (
    user_id BINARY(16),
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    email VARCHAR(100) UNIQUE,
    address VARCHAR(100),
    password VARCHAR(255),
    msp VARCHAR(50),
    user_type INTEGER,
    PRIMARY KEY (user_id)
);
CREATE TABLE UserDailyIntake (
    user_id BINARY(16),
    created_date DATE,
    calories DECIMAL,
    PRIMARY KEY (user_id, created_date),
    FOREIGN KEY (user_id) REFERENCES User(user_id) ON DELETE CASCADE
);
CREATE TABLE Service (
    service_id BINARY(16),
    name VARCHAR(100),
    price DECIMAL,
    PRIMARY KEY (service_id)
);
CREATE TABLE UserService (
    user_id BINARY(16),
    service_id BINARY(16),
    start_date DATE,
    end_date DATE,
    PRIMARY KEY (user_id, service_id),
    FOREIGN KEY (user_id) REFERENCES User(user_id) ON DELETE CASCADE,
    FOREIGN KEY (service_id) REFERENCES Service(service_id) ON DELETE CASCADE
);
CREATE TABLE Payment (
    user_id BINARY(16),
    service_id BINARY(16),
    from_date DATE,
    to_date DATE,
    amount DECIMAL,
    paid_date DECIMAL,
    due_date DATE,
    PRIMARY KEY (user_id, service_id, from_date, to_date) ,
    FOREIGN KEY (user_id, service_id) REFERENCES UserService(user_id, service_id) ON DELETE CASCADE
);
CREATE TABLE PatientComplaint (
    doctor_id BINARY(16),
    patient_id BINARY(16),
    content TEXT,
    rating INT,
    created_date DATETIME,
    PRIMARY KEY (doctor_id, patient_id),
    FOREIGN KEY (doctor_id) REFERENCES User(user_id) ON DELETE CASCADE,
    FOREIGN KEY (patient_id) REFERENCES User(user_id) ON DELETE CASCADE
);
CREATE TABLE DoctorSolution (
    patient_id BINARY(16),
    doctor_id BINARY(16),
    content TEXT,
    created_date DATETIME,
    PRIMARY KEY (patient_id, doctor_id),
    FOREIGN KEY (patient_id) REFERENCES User(user_id) ON DELETE CASCADE,
    FOREIGN KEY (doctor_id) REFERENCES User(user_id) ON DELETE CASCADE
);
INSERT INTO User (user_id, first_name, last_name, email, address, password, msp, user_type) VALUES ("7d1bb54a-533b-42db-897d-a6cff78c89a7", "Brian", "Vo", "test@test.com", "douglas", "test@test.com", "yes", 1);

INSERT INTO User (user_id, first_name, last_name, email, address, password, user_type) VALUES ("6d1cc54a-522b-32db-897d-a6cff78c89b7", "Torin", "Glass", "doctor1@test.com", "510-4400 Dominion St. Burnaby V5G 4G3", "doctor1@test.com", 2);

INSERT INTO User (user_id, first_name, last_name, email, address, password, user_type) VALUES ("5d1aa54a-522b-32dc-134e-a6cgg78c56b0", "Edmond", "Glass", "doctor2@test.com", "7487 Edmonds St, Burnaby, BC V3N 1B3", "doctor2@test.com", 2);

INSERT INTO User (user_id, first_name, last_name, email, address, password, user_type) VALUES ("4a2bb32a-522c-71de-549g-a0cyg79k56g0", "Mana", "Kasey", "doctor3@test.com", "4980 Kingsway Burnaby BC ", "doctor3@test.com", 2);

INSERT INTO User (user_id, first_name, last_name, email, address, password, user_type) VALUES ("2a2ll34z-526a-79dn-529l-a3cft39k56g7", "Lauren", "Fineman", "doctor4@test.com", "808 Nelson St Suite 303, Vancouver, BC V6Z 2H2", "doctor4@test.com", 2);






